html,
body,
#root {
  height: 100%;
  margin: 0;
  padding: 0;
}

/* уведомления по-умолчанию (в браузере) */
.mantine-Notifications-root {
  top: 16px !important;
  right: 16px !important;
  bottom: auto !important;
  left: auto !important;
  z-index: 9999 !important;
}

@media (max-width: 768px) {
  h1,
  h2,
  h3 {
    font-size: 1.2rem;
    line-height: 1.3;
  }

  .mantine-Container-root {
    padding-left: 0.5rem;
    padding-right: 0.5rem;
  }

  .exercise-item {
    font-size: 0.9rem;
  }
}

@media (max-width: 768px) {
  .mantine-AppShell-main {
    padding-top: 8px !important;
    padding-left: 8px !important;
    padding-right: 8px !important;
  }
  .mantine-Card-root {
    border-radius: 10px;
  }
}

/* ==== переменные safe-area ==== */
:root {
  --sat: env(safe-area-inset-top);
  --sab: env(safe-area-inset-bottom);
  --sal: env(safe-area-inset-left);
  --sar: env(safe-area-inset-right);
}

/* нижний отступ, чтобы контент не попадал под home-indicator (для всех) */
body {
  padding-bottom: var(--sab);
}

/* fallback для старых iOS */
@supports (padding: constant(safe-area-inset-top)) {
  :root {
    --sat: constant(safe-area-inset-top);
    --sab: constant(safe-area-inset-bottom);
    --sal: constant(safe-area-inset-left);
    --sar: constant(safe-area-inset-right);
  }
}

/* заголовки без клиппинга */
.mantine-Title-root {
  line-height: 1.25 !important;
  padding-block: 2px !important;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* фон хедера совпадает с body */
.app-header {
  background: var(--mantine-color-body);
}

/* ============================= */
/*   ТОЛЬКО ДЛЯ iOS в PWA        */
/* ============================= */

html.ios-pwa,
html.ios-pwa body {
  background: var(--mantine-color-body);
  -webkit-font-smoothing: antialiased;
  -webkit-backface-visibility: hidden;
  transform: translateZ(0);
}

/* 1) Сдвигаем весь интерфейс вниз на высоту статус-бара:
      задаём offset для sticky-хедера */
html.ios-pwa .mantine-AppShell-header {
  top: env(safe-area-inset-top) !important; /* <- ключевая строка */
  z-index: 1000 !important;
}

/* 2) Контент подстраиваем: паддинг сверху = высота хедера */
/* Обычный браузер (мобильный/ПК) */
.mantine-AppShell-main {
  padding-top: calc(
    var(--mantine-app-shell-header-height, 56px) +
      var(--mantine-spacing-md, 16px)
  ) !important;
}

/* PWA на iOS */
html.ios-pwa .mantine-AppShell-main {
  padding-top: calc(
    env(safe-area-inset-top, 0px) + var(--mantine-app-shell-header-height, 56px) +
      var(--mantine-spacing-md, 16px)
  ) !important;

  padding-bottom: calc(16px + env(safe-area-inset-bottom)) !important;
}

/* 3) Мобильный navbar (overlay) стартует ниже статус-бара и хедера */
html.ios-pwa .mantine-AppShell-navbar {
  /* top + высота хедера */
  top: calc(
    env(safe-area-inset-top) + var(--mantine-app-shell-header-height, 56px)
  ) !important;
  /* чтобы не упирался в home-indicator */
  padding-bottom: env(safe-area-inset-bottom) !important;
}

/* 4) Уведомления — ниже статус-бара и с учётом правой safe-area */
html.ios-pwa .mantine-Notifications-root {
  top: calc(env(safe-area-inset-top) + 8px) !important;
  right: calc(env(safe-area-inset-right) + 16px) !important;
  left: auto !important;
  bottom: auto !important;
  z-index: 9999 !important;
}
/* В iOS PWA фон не должен скроллиться под оверлеем */
html.lock-scroll,
body.lock-scroll {
  position: fixed; /* фиксируем вьюпорт */
  width: 100%;
  overflow: hidden; /* отрезаем прокрутку страницы */
  touch-action: none; /* запрещаем жесты на фоне */
}

/* Чтоб не было резкого прокидывания инерции вверх/вниз */
.mantine-AppShell-navbar,
.mantine-AppShell-main {
  overscroll-behavior: contain;
}
.dnd-handle {
  touch-action: none;
  -webkit-user-select: none;
  user-select: none;
}
html,
body {
  overscroll-behavior: contain;
}
/* index.css */
.dnd-handle {
  touch-action: none;
  -webkit-user-select: none;
  user-select: none;
}
html,
body {
  overscroll-behavior: contain;
}

.note-indicator {
  width: 8px;
  height: 8px;
  border-radius: 50%;
  background-color: var(--mantine-color-pink-filled); /* твой акцент */

  animation: pulse 0.75s infinite ease-in-out;
}
@keyframes pulse {
  0% {
    transform: scale(1);
    opacity: 0.5;
  }
  50% {
    transform: scale(1.8);
    opacity: 0.9;
  }
  100% {
    transform: scale(1);
    opacity: 0.5;
  }
}

/* Глобально запретить выделение */
* {
  -webkit-user-select: none; /* Safari/Chrome/iOS */
  -moz-user-select: none; /* Firefox */
  -ms-user-select: none; /* IE/Edge */
  user-select: none; /* стандарт */
}
/* --- Mantine Notifications: фиксация для PWA --- */
#notifications-portal {
  /* сам портал – на всякий случай поверх всего */
  position: relative;
  z-index: 10000;
}

/* сам корневой контейнер уведомлений */
.mantine-Notifications-root {
  position: fixed !important; /* не скроллится вместе с контентом */
  top: calc(env(safe-area-inset-top, 0px) + 12px) !important;
  left: 0 !important;
  right: 0 !important;
  width: 100vw !important;

  display: flex !important;
  justify-content: center !important; /* по центру на мобилке */
  pointer-events: none; /* клики проходят мимо контейнера */
}

/* сами карточки остаются кликабельными */
.mantine-Notification-root {
  pointer-events: auto;
}

/* на широких экранах возвращаем «справа» */
@media (min-width: 992px) {
  .mantine-Notifications-root {
    justify-content: flex-end !important;
    padding-right: 16px; /* небольшой отступ от правого края */
  }
}
.mantine-Notifications-root {
  position: fixed !important;
  top: 1rem !important;
  right: 1rem !important;
  z-index: 99999 !important;
}
